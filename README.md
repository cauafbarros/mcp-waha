<pre> # MCP + WAHA WhatsApp Integration Este projeto implementa um servidor MCP com uma ferramenta (`send_message`) para envio de mensagens via WhatsApp utilizando o WAHA. ## ğŸ› ï¸ Requisitos - Python 3.8 ou superior - Docker Desktop (com WSL 2 ativado) - Conta WhatsApp ativa em um celular ## ğŸ“¦ InstalaÃ§Ã£o de dependÃªncias ```bash pip install fastapi uvicorn requests ``` ## ğŸš€ Como rodar o servidor MCP 1. Clone ou baixe este repositÃ³rio 2. Navegue atÃ© a pasta do projeto e rode: ```bash uvicorn server:app --reload ``` 3. Acesse a interface Swagger em: ``` http://127.0.0.1:8000/docs ``` ## ğŸ¤– Endpoints disponÃ­veis - `POST /tools/send_message`: Envia mensagem para nÃºmero informado - `GET /tools/send_message/by_name/{nome}`: Envia mensagem de bom dia para um contato - `GET /resources/contatos`: Lista os contatos prÃ©-definidos ## ğŸ“² Como rodar o WAHA (WhatsApp HTTP API) 1. Execute no terminal: ```bash docker pull devlikeapro/waha:latest docker run -p 3000:3000 --name waha-server devlikeapro/waha ``` 2. Acesse `http://localhost:3000` 3. Crie uma sessÃ£o via `POST /api/sessions` com ID `default` 4. Inicie a sessÃ£o via `PUT /api/sessions/default` 5. Verifique o terminal com: ```bash docker logs waha-server -f ``` 6. Copie o QR Code gerado (base64) e cole no navegador para escanear com o WhatsApp Web --- ## ğŸ“¸ Prints de Funcionamento ### Docker e WAHA rodando ![Docker](prints/docker.png) ### Acesso ao WAHA via navegador ![WAHA Swagger](prints/imagem1.png) ### Swagger da API FastAPI (MCP) ![Swagger MCP](prints/imagem2.png) ### Swagger - Exemplo de envio por nome ![Swagger Envio](prints/tela.png) ### Retorno da API ![Resposta da API](prints/tela1.png) ### WhatsApp com mensagem recebida ![Mensagem Recebida](prints/mensagem_recebida.png) --- ## âœ… Teste final - Acesse: `http://127.0.0.1:8000/docs` - Teste `/tools/send_message/by_name/joao` - A mensagem â€œBom dia, JoÃ£o!â€ serÃ¡ enviada via WhatsApp --- ## ğŸ‘¨â€ğŸ’» Autor CauÃ£ Ferreira Barros â€“ Mestrando em CiÃªncia da ComputaÃ§Ã£o â€“ UFG </pre>